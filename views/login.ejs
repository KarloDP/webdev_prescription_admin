<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Admin Portal | Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/css/login.css">
</head>
<body>
  <div class="login-wrapper">
    <div class="login-card">
      
      <!-- Header Section with Logo -->
      <div class="login-header">
        <div class="header-logo">
          <img src="/pictures/Main_logo.png" alt="Company Logo" class="logo-img">
        </div>
        <h1>Admin Portal</h1>
        <p class="header-subtitle">Secure Access Control</p>
      </div>

      <!-- Error Message -->
      <% if (error) { %>
        <div class="alert alert-error">
          <div class="alert-icon">‚ö†Ô∏è</div>
          <div class="alert-content">
            <strong>Access Denied</strong>
            <p><%= error %></p>
          </div>
        </div>
      <% } %>

      <!-- Login Form -->
      <form class="login-form" action="/login" method="POST">
        <div class="form-group">
          <label for="adminId" class="form-label">
            <span class="label-icon">üë§</span>
            SELECT ADMINISTRATOR
          </label>
          
          <div class="select-container">
            <select name="adminId" id="adminId" required>
              <option value="" disabled selected>-- Choose Account --</option>
              <% admins.forEach(function(admin) { %>
                <option value="<%= admin.adminID %>">
                  <%= admin.firstName %> <%= admin.lastName %>
                </option>
              <% }); %>
            </select>
            <div class="select-arrow">‚ñº</div>
          </div>
          
          <div class="form-hint">
            <span class="hint-icon">‚Ñπ</span>
            Select your administrator profile
          </div>
        </div>

        <button type="submit" class="btn btn-primary">
          <span class="btn-text">LOGIN TO DASHBOARD</span>
          <span class="btn-arrow">‚Üí</span>
        </button>
      </form>

      <!-- Footer -->
      <div class="login-footer">
        <div class="security-badge">
          <span class="badge-icon"></span>
          <span>Secure Connection ‚Ä¢ SSL Encrypted</span>
        </div>
        
        <div class="support-info">
          <a href="#" class="support-link">
            <span class="link-icon">‚ùì</span>
            Need Support?
          </a>
        </div>
        
        <div class="copyright">
          ¬© <span id="currentYear"></span> Admin Portal ‚Ä¢ Version 2.1
        </div>
      </div>
    </div>
  </div>

  <script>
    // Set current year
    document.getElementById('currentYear').textContent = new Date().getFullYear();
    
    // Simple JavaScript enhancements
    document.addEventListener('DOMContentLoaded', function() {
      // Select dropdown focus effect
      const select = document.getElementById('adminId');
      if (select) {
        const container = select.closest('.select-container');
        
        select.addEventListener('focus', function() {
          container.classList.add('focused');
        });
        
        select.addEventListener('blur', function() {
          container.classList.remove('focused');
        });
        
        // Auto-focus after page loads
        setTimeout(() => select.focus(), 300);
      }

      // Button hover effect
      const loginBtn = document.querySelector('.btn-primary');
      if (loginBtn) {
        loginBtn.addEventListener('mouseenter', function() {
          this.style.transform = 'translateY(-2px)';
        });
        
        loginBtn.addEventListener('mouseleave', function() {
          this.style.transform = 'translateY(0)';
        });
        
        loginBtn.addEventListener('mousedown', function() {
          this.style.transform = 'translateY(1px)';
        });
        
        loginBtn.addEventListener('mouseup', function() {
          this.style.transform = 'translateY(-2px)';
        });
      }

      // Logo loading fallback - FIXED VERSION
      const logoImg = document.querySelector('.logo-img');
      if (logoImg) {
        logoImg.addEventListener('error', function() {
          console.log('Logo failed to load, using fallback');
          // Create a simple fallback
          const parent = this.parentElement;
          parent.innerHTML = '<div class="logo-fallback">‚öôÔ∏è</div>';
          parent.style.fontSize = '48px';
          parent.style.color = '#0066FF';
          parent.style.display = 'flex';
          parent.style.alignItems = 'center';
          parent.style.justifyContent = 'center';
        });
      }
    });
  </script>
</body>
</html>
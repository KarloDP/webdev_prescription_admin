<%- include('../partials/tableCard', { title: 'Patients' }) %>

<h2>Patient Accounts</h2>
<form action="/patients/add" method="POST">
  <input type="text" name="firstName" placeholder="First Name" required>
  <input type="text" name="lastName" placeholder="Last Name" required>
  <input type="password" name="password" placeholder="Password" required>
  <input type="date" name="birthDate" placeholder="Birth Date" required>
  <input type="text" name="gender" placeholder="Gender" required>
  <input type="text" name="contactNumber" placeholder="Contact Number" required>
  <input type="text" name="address" placeholder="Address" required>
  <input type="email" name="email" placeholder="Email" required>
  <button type="submit">Add Patient</button>
</form>

<table border="1">
  <thead>
    <tr>
      <th>Patient ID</th>
      <th>First Name</th>
      <th>Last Name</th>
      <th>Password</th>
      <th>Birth Date</th>
      <th>Gender</th>
      <th>Contact Number</th>
      <th>Address</th>
      <th>Email</th>
      <th>Delete</th>
    </tr>
  </thead>
  <tbody>
    <% patients.forEach(function(patient) { %>
      <tr>
        <td><%= patient.patientID %></td>
        <td><%= patient.firstName %></td>
        <td><%= patient.lastName %></td>
        <td><%= patient.password %></td>
        <td><%= patient.birthDate %></td>
        <td><%= patient.gender %></td>
        <td><%= patient.contactNumber %></td>
        <td><%= patient.address %></td>
        <td><%= patient.email %></td>
        <td>
          <form action="/patients/delete" method="POST" style="display:inline;">
            <input type="hidden" name="patientID" value="<%= patient.patientID %>">
            <button type="submit">Delete</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
